import{c as w,E as b,aj as E,aZ as P,g as I,aS as S}from"./iconBase-B4H0EjgV.js";import{a as C,p as $}from"./chunk-JMJ3UQ3L-CPumaeMD.js";function Z(e){return new Proxy({},{get(t,r){return r==="style"?n=>e({style:n}).style:e}})}var R=()=>e=>Array.from(new Set(e)),A=w("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),i=A.build(),N=e=>e.ids?.root??`progress-${e.id}`,O=e=>e.ids?.track??`progress-${e.id}-track`,M=e=>e.ids?.label??`progress-${e.id}-label`,L=e=>e.ids?.circle??`progress-${e.id}-circle`;function q(e,t){const{context:r,computed:n,prop:a,send:s,scope:c}=e,o=n("percent"),T=n("isIndeterminate")?"":n("formatter").format(o/100),l=a("max"),v=a("min"),u=a("orientation"),k=a("translations"),p=n("isIndeterminate"),d=r.get("value"),h=k?.value({value:d,max:l,percent:o,min:v,formatter:n("formatter")})??"",m=B(d,l),y={role:"progressbar","aria-label":h,"data-max":l,"aria-valuemin":v,"aria-valuemax":l,"aria-valuenow":d??void 0,"data-orientation":u,"data-state":m},f=j(e);return{value:d,valueAsString:h,min:v,max:l,percent:o,percentAsString:T,indeterminate:p,setValue(g){s({type:"VALUE.SET",value:g})},setToMax(){s({type:"VALUE.SET",value:l})},setToMin(){s({type:"VALUE.SET",value:v})},getRootProps(){return t.element({dir:a("dir"),...i.root.attrs,id:N(c),"data-max":l,"data-value":d??void 0,"data-state":m,"data-orientation":u,style:{"--percent":p?void 0:o}})},getLabelProps(){return t.element({dir:a("dir"),id:M(c),...i.label.attrs,"data-orientation":u})},getValueTextProps(){return t.element({dir:a("dir"),"aria-live":"polite",...i.valueText.attrs})},getTrackProps(){return t.element({dir:a("dir"),id:O(c),...i.track.attrs,...y})},getRangeProps(){return t.element({dir:a("dir"),...i.range.attrs,"data-orientation":u,"data-state":m,style:{[n("isHorizontal")?"width":"height"]:p?void 0:`${o}%`}})},getCircleProps(){return t.element({dir:a("dir"),id:L(c),...i.circle.attrs,...y,...f.root})},getCircleTrackProps(){return t.element({dir:a("dir"),"data-orientation":u,...i.circleTrack.attrs,...f.track})},getCircleRangeProps(){return t.element({dir:a("dir"),...i.circleRange.attrs,...f.range,"data-state":m})},getViewProps(g){return t.element({dir:a("dir"),...i.view.attrs,"data-state":g.state,hidden:g.state!==m})}}}function B(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}var V={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}},U={style:{width:"var(--size)",height:"var(--size)"}};function j(e){const{context:t,computed:r}=e;return{root:U,track:V,range:{opacity:t.get("value")===0?0:void 0,style:{...V.style,"--percent":r("percent"),"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:r("isIndeterminate")?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}var G=b({props({props:e}){const t=e.min??0,r=e.max??100;return{orientation:"horizontal",...e,max:r,min:t,defaultValue:e.defaultValue!==void 0?e.defaultValue:H(t,r),formatOptions:{style:"percent",...e.formatOptions},translations:{value:({value:n,percent:a,formatter:s})=>{if(n===null)return"loading...";if(s){const o=s.resolvedOptions().style==="percent"?a/100:n;return s.format(o)}return n.toString()},...e.translations}}},initialState(){return"idle"},entry:["validateContext"],context({bindable:e,prop:t}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){t("onValueChange")?.({value:r})}}))}},computed:{isIndeterminate:({context:e})=>e.get("value")===null,percent({context:e,prop:t}){const r=e.get("value");return P(r)?I(r,t("min"),t("max"))*100:-1},formatter:E(({prop:e})=>[e("locale"),e("formatOptions")],([e,t])=>new Intl.NumberFormat(e,t)),isHorizontal:({prop:e})=>e("orientation")==="horizontal"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}},implementations:{actions:{setValue:({context:e,event:t,prop:r})=>{const n=t.value===null?null:Math.max(0,Math.min(t.value,r("max")));e.set("value",n)},validateContext:({context:e,prop:t})=>{const r=t("max"),n=t("min"),a=e.get("value");if(a!=null){if(!x(r))throw new Error(`[progress] The max value passed \`${r}\` is not a valid number`);if(!z(a,r))throw new Error(`[progress] The value passed \`${a}\` exceeds the max value \`${r}\``);if(!D(a,n))throw new Error(`[progress] The value passed \`${a}\` exceeds the min value \`${n}\``)}}}}}),x=e=>P(e)&&!isNaN(e),z=(e,t)=>x(e)&&e<=t,D=(e,t)=>x(e)&&e>=t,H=(e,t)=>e+(t-e)/2;R()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);const _=C.forwardRef(function(t,r){return $.jsx(S,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:r,...t})});_.displayName="IconButton";export{_ as I,A as a,Z as b,R as c,q as d,G as m};
